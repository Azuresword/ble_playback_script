# 数据对比报告：App转换数据 vs 原始WTB1数据

## 1. 概述
本报告基于统计分析，对比了新生成的 `converted_WTB1_format.csv`（源自App数据）与原始的 `WTB1_data/WTB1.csv`。

## 2. 核心发现

### 2.1 采样率差异
*   **原始 WTB1**: 约 **99.2 Hz** (74,300行 / 748秒)
*   **App 数据**: 约 **120.4 Hz** (66,274行 / 550秒)
*   **结论**: App数据的采样率显著更高（+21%）。这是固件或配置变更导致的真实差异。

### 2.2 加速度 (AccX) 数值范围异常
*   **原始 WTB1**: 范围 `[-4.009, 4.012]` g。均值 `0.23`。
*   **App 数据**: 范围 `[-38.87, 39.34]` g。均值 `2.57`。
*   **分析**: 
    *   原始数据的最大值在 **±4g** 左右，这是一般IMU的标准量程。
    *   App数据的最大值达到了 **±39g**。且均值高达 2.57g（静止状态下应接近 0 或 1g）。
    *   **推测**: App数据可能应用了错误的比例因子(Scale Factor)或者单位未转换（例如可能是原始 LSB 值而非 g值，或者量程配置不同）。这是一个需要重点排查的问题。

### 2.3 陀螺仪 (AsX) 与 磁力计 (HX)
*   **陀螺仪**: 两者范围惊人的一致 (`±435-459 deg/s`)，且均值接近（-0.14 vs -0.22）。这表明陀螺仪数据的单位和处理可能是正确的。
*   **磁力计**: 两者范围完全一致 (`-176.5` 到 `45.0` uT)。这表明磁力计数据可能未发生变化，或者两个数据集是在非常相似的磁场环境/设备朝向下采集的。

### 2.4 其他传感器
*   **气压计**: 均值和范围非常接近 (1010 hPa 左右)，无明显异常。
*   **温度**: 均值接近 (-4.4°C vs -4.5°C)，无异常。

### 2.5 数据结构完整性
*   转换后的文件 **成功通过了 Schema 校验**。
*   表头完全一致（包括双 `SpeedY` 字段）。
*   App数据中缺失的字段（如 `Trajectory`, `Speed`）已正确填充为 `null`。

## 3. 建议
1.  **检查加速度单位**: App端上报的 `acc_x/y/z` 极有可能存在单位换算问题。数值偏大约 10 倍。请检查是否混淆了 LSB 和 mg，或者 G值换算系数有误。
2.  **确认采样率**: 120Hz 是否为预期的新配置？如果原本期望保持兼容，需确认固件设置。
3.  **App端补充数据**: 目前App数据也缺少 `Trajectory` 和 `Speed` 计算值，这部分逻辑是在端侧还是App侧？如果需要保持一致，App端可能需要移植相关解算算法。

## 4. 统计摘要表

| 指标 | 原始 (Original Source) | 转换后 (Converted App Data) | 备注 |
| :--- | :--- | :--- | :--- |
| **时长 (秒)** | 748.8 s | 550.6 s | - |
| **频率 (Hz)** | **99.2 Hz** | **120.4 Hz** | 频率提升 |
| **AccX (Min/Max)** | -4.0 / 4.0 | **-38.9 / 39.3** | **异常：量级差异巨大** |
| **AsX (Min/Max)** | -459.8 / 435.5 | -459.8 / 435.5 | 一致 |
| **HX (Min/Max)** | -176.5 / 45.0 | -176.5 / 45.0 | 一致 |
| **Pressure (Mean)** | 1010.0 | 1010.3 | 一致 |
